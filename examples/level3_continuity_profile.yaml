# Level 3 MirrorDNA Continuity Profile
# Vault-Backed Sovereign system configuration

profile_version: "1.0.0"

# Primary continuity mechanism: vault_backed (required for Level 3)
continuity_mechanism: "vault_backed"

# State persistence configuration
state_persistence:
  # Enable persistent state (required)
  enabled: true

  # Storage type: vault (required for Level 3)
  storage_type: "vault"

  # Storage location
  storage_location: "./vault"

  # Encrypt storage
  encryption: true

  # Validate checksums (required for Level 3)
  checksum_validation: true

# Vault configuration (required for Level 3)
vault_configuration:
  # Vault type
  vault_type: "obsidian"

  # Path to vault root
  vault_path: "./vault"

  # Unique vault identifier (AMOS:// format recommended)
  vault_id: "AMOS://MySovereignMirror/Vault/v3.0"

  # Enable vault sync
  sync_enabled: false

# Session management
session_management:
  # Track sessions explicitly (required for Level 3)
  session_tracking: true

  # Session ID format
  session_id_format: "UUID"

  # Maximum session duration (0 = unlimited, but warnings at 2 hours)
  max_session_duration: 0

  # New sessions inherit state from previous (required for continuity)
  session_inheritance: true

# Continuity guarantees (all required for Level 3)
continuity_guarantees:
  # Preserve user/system identity across sessions
  identity_preservation: true

  # Ensure state consistency
  state_consistency: true

  # Track lineage and ancestry
  lineage_tracking: true

  # Implement anti-hallucination measures
  anti_hallucination: true

# Recovery and rollback
recovery:
  # Enable rollback to previous states
  rollback_enabled: true

  # How often snapshots are taken
  snapshot_frequency: "per_session"

  # How long snapshots are retained
  retention_policy: "Keep all snapshots (user-controlled deletion only)"
